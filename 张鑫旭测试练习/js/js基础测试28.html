<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title></title>
    <meta name="viewport"
        content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no,minimal-ui">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="renderer" content="webkit">
    <meta name="force-rendering" content="webkit">
</head>

<body>
</body>
<script>
    /**
     *  1、实现将指定的索引项前移一个位置
     *  2、实现将指定的索引项移到最前面
     *  3、实现将指定的索引项移到最后面
     *  4、实现数组任意两项的位置调换
     */
    // 实现功能不难，难的是要能考虑到各种情况
    (function(){
        let _arr=[0,1,2,3,4,5,6];
        console.log('原始数组',_arr);

        moveToOne([..._arr],1);
        moveToFront([..._arr],6);
        moveToLast([..._arr],0);
        exchange([..._arr],0,4);

        // 前移一位
        function moveToOne(arr,i){
            check(arr,i);
            if(!i){
                return;
            }
            exch(arr,i,i-1);
            console.log('前移一位',arr);
        }


        // 移到最前面
        function moveToFront(arr,i){
            check(arr,i);
            if(!i){
                return;
            }
            exch(arr,i,0);
            console.log('移到最前面',arr);
        }
        // 移到最后面
        function moveToLast(arr,i){
            check(arr,i);
            if(i==arr.length-1){
                return;
            }
            exch(arr,i,arr.length-1);
            console.log('移到最后面',arr);
        }
        // 交换位置
        function exchange(arr,x,y){
            check(arr,x);
            exch(arr,x,y);
            console.log('交换位置',arr);
        }

        // 交换
        function exch(arr,n,m){
            let _item=arr[n];
            arr[n]=arr[m];
            arr[m]=_item;
        }

        // 检测参数
        function check(arr,i,y){
            if(_type(arr)!='array'){
                throw TypeError('参数不是数组');
            }
            if((_type(i)!='number') || (y && _type(y)!='number')){
                throw TypeError('参数不是数值');
            }
            if(i<0 || i>=arr.length){
                throw RangeError('指定索引超出数组范围');
            }
        }
        // 类型检测
        function _type(o) {
            return Object.prototype.toString.call(o).match(/\w+/g)[1].toLocaleLowerCase();
        }
    })();
</script>
</html>